<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title> for of, forEach 사용 예시 </title>
        <style>
            .btns{
                text-align: center;
                padding: 20px;
            }
            .btns>button{
                font-size: 30px;
                font-weight: bold;
            }
            .wrap{
                max-width: 800px;
                margin: 0 auto;
                padding: 10px;
                border: 4px double #555;
                border-radius: 10px;
                font-size: 24px;
                line-height: 2;
            }
            .wrap>div{
                color: #444;
            }
            h1,h2,h3{
                text-align: center;
                border-top: 2px dashed #ccc;
                border-bottom: 2px dashed #ccc;
                font-size: 35px;
            }
            h1+div{
                font-size: 33px;
                font-weight: bold;
                text-align: center;
            }
            h2+div{
                font-size: 28px;
                font-weight: bold;
                text-align: center;
            }
            .minfo{
                background-color: #d0ffd3;
            }

        </style>
        <script>
            const mv1 = [
                "조제",
                "한지민(조제), 남주혁(영석)",
                "자신을 ‘조제’로 불러달라는 그녀처음 만난 그날부터 ‘조제’는 ‘영석’에게 잊을 수 없는 이름으로 남는다.할머니와 단둘이 사는 집, 그곳에서 책을 읽고 상상하며자신만의 세계를 살고 있는 ‘조제’.우연히 만난 그녀에게 특별한 감정을 느끼기 시작한 ‘영석’은천천히, 그리고 솔직하게 다가가기 시작한다.하지만 처음 경험해보는 사랑이 설레는 한편 가슴 아픈 ‘조제’는자신에게 찾아온 낯선 감정을 밀어내는데…기억할 거야너와 함께한 모든 순간을"
            ];
            const mv2 = [
                "원더 우먼 1984",
                "갤 가돗(다이애나/원더우먼), 크리스 파인(스티브 트레버)",
                "1984년 모든 것이 활기찬 시대, 다이애나 프린스는 고고학자로서 인간들 사이에서 조용히 살고 있다. 단지 원더 우먼으로서 위기에 처한 사람을 구할 때만 빼고는. 그런 다이애나 앞에 거짓말처럼 죽었던 스티브 트레버가 나타나고, 거부할 수 없는 적마저 함께 찾아오는데…"
            ];
            const mv3 = [
                "도굴",
                "이제훈(동구), 조우진(존스박사)",
                "흙 맛만 봐도 보물을 찾아내는 타고난 천재 도굴꾼 강동구(이제훈).자칭 한국의 '인디아나 존스'로 불리는 고분벽화 도굴 전문가 존스 박사(조우진), 전설의 삽질 달인 삽다리(임원희)를 만나 환상(?)의 팀플레이를 자랑하며 위험천만하고도 짜릿한 도굴의 판을 키운다."
            ];
            window.addEventListener("DOMContentLoaded", () => {
            // html 태그들이 전부 로딩된 후 실행.
                console.log("로딩 완료")

                const btngo = document.querySelectorAll('.btngo');
                // class가 btngo인 태그 여러개를 btngo 변수에 반환(querySelectorAll 이므로).
                const minfo = document.querySelectorAll('.minfo');

                for(let x of btngo){ 
                    // btngo는 class가 btngo인 태그들이 저장된 배열이고, 여기서 각 순서에 맞는 배열의 요소가 x에 복사됨(컬렉션 변수)

                    x.onclick = () => { 
                    // x가 클릭 됐을 떄 함수 실행
                        let btxt = x.innerText
                        // x의 태그의 텍스트 내용을 btxt에 저장
                        console.log('버튼 텍스트 : ', btxt);
                        // 클릭된 버튼 태그의 텍스트 내용이 저장된 btxt변수 콘솔에 출력

                        let data;

                        switch(btxt){
                            case "조제": data = mv1; break;
                            // 클릭된 버튼 태그의 텍스트 내용이 조제와 같다면 data 변수에 영화 정보를 저장한 mv1 배열에 저장.
                            case "원더 우먼 1984": data = mv2; break;
                            case "도굴": data = mv3; break;
                        }
                        console.log("선택된 배열 : ", data);
                        // data에 저장된 영화 정보를 콘솔창에 출력

                        minfo.forEach((item, idx)=>{
                        // minfo는 class가 minfo인 태그들이 저장된 배열
                            item.innerText = data[idx];
                            // item - 순서에 맞는 minfo 배열의 원소
                            // data[idx] - 순서에 맞는 data 배열의 원소(여기서 idx는 배열의 순서를 나타내는 숫자).
                        });
                    }
                }
                /*
                
                로드 단계  
                1.window.addEventListener("DOMContentLoaded", () => {}로 인해 먼저 html 태그들 전부 로드 완료 -> 67번째 줄 이어서 로드 완료 ->for of 문에 있는 코드 내용 반복 실행되어 로드 완료(html, js 전부 로드 완료).

                2. 버튼을 클릭하면 for of문으로 로드된 x.onclick =()=>{} 중 일치하는 코드 실행.
                
                */
            })

        </script>
    </head>
    <body>
        <div class="btns">
            <button class="btngo"> 조제 </button>
            <button class="btngo"> 원더 우먼 1984 </button>
            <button class="btngo"> 도굴 </button>
        </div>

        <div class="wrap">
            <h1> 영화 제목 </h1>
            <div class="minfo"></div>
            
            <h2> 주연 배우 </h2>
            <div class="minfo"></div>
            
            <h3> 영화 스토리 </h3>
            <div class="minfo"></div>
        </div>
    </body>
</html>
